<!doctype html>
<html>
    <head>
		<meta charset="utf-8">
        <script type="text/javascript" src="js/d3.v3.js"></script>
		<script type="text/javascript" src="js/index.js"></script>
		<script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
		<script type="text/javascript" src="js/d3.slider.js"></script>
		<script type="text/javascript" src="js/eol-gbif.js"></script>
		<script type="text/javascript" src="js/creatureMapping.js"></script>
		<script type="text/javascript" src="js/lightbox.js"></script>
		<script type="text/javascript" src="js/interface.js"></script>
		<link rel="stylesheet" type="text/css" href="css/index.css"/>
		<link rel="stylesheet" type="text/css" href="css/lightbox.css"/>
		<link rel="stylesheet" type="text/css" href="css/d3.slider.css" media="screen"/>
    </head>

		
    <body>
		<script>
		$(document).ready(function(){
			/*$(".chartContainer").css("width", function() {
				return window.innerWidth - leftOffset + "px";
			});
			*/
			

			
			var chart = SpeciesMap.init({
				divSelector: ".chartContainer",
				xPadding: 0,
				yPadding: 0,
				width: 600,
				height: 500
			});

			
			initCallBacks(chart);
			
			
			
			
			//Tick formatter
			var formatter = d3.format(",.0f");
			//Initialize slider
			slider = d3.slider()
							.min(-250)
							.max(0)
							//.ticks(227)
							.tickValues([-250, -205, -180, -159, -144, -98, -65, 0])
							//.stepValues([-250, -240, -230, -220, -210, -200, -190, -180, -170, -160, -150, -140, -130, -120, -110, -100, -90, -80, -70, -60, -50, -40, -30, -20, -10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0])
							.showRange(false)
							.value(0)
							.tickFormat(function(d) {
								return -formatter(d) + "mya";
							});
			//Render the slider into the div
			d3.select("#slider").call(slider);

			//Set the current and previous slider values
			currentSliderVal = -slider.value();
			previousSliderVal = -slider.value();


			chart.loadData();
			setChart(chart);
			
		});
		</script>

		<div id="titleBox">
			<p>Test Title</p>
		</div>

		<div class="PageContent">
			<div class="CreaturesBox">
				<div class="CreaturesList"></div>
			</div>

			<div class="chartContainer"></div>
			<div id="slider"></div>
		</div>
		
		
		
		<!--HTML for our dinosaur popup-->
		<div class="HiddenInfoBox">
			<div class="InfoBox">
				<div id="nameBox"></div>
				<div id="picture"></div>
				<div id="clusterInfo"></div>
				<div id="specieInfo"></div>
				<ul id="clusterList"></ul>
				<a href="#" id="eolURL" target="_blank">View Encyclopedia Page</a>
			</div>
		</div>
    </body>
</html>